<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Regular expressions highlighter</title>
    <link href="regExpHighlighter.css" rel="stylesheet" type="text/css" />
    <script type="application/javascript;version=1.8" src="tokenizer.js"></script>
    <script type="application/javascript;version=1.8" src="regExpHighlighter.js"></script>
    <script type="application/javascript;version=1.8">
    function tokenize(regExp) {
      tokenizedRegExp = tokenizer.tokenize(regExp);
      console.log(tokenizedRegExp);
      return tokenizedRegExp;
    }

    function highlight() {
      let regExp = tokenize(document.getElementById("regExp").value);
      let regExpHighlighter = document.getElementById("regExpHighlighter");
      regExpHighlighter.textContent = "";

      regExpHighlighter.appendChild(highlighter.highlight(regExp));
    }

    var tokenizer = new RegExpTokenizer();
    var highlighter = new RegExpHighlighter();

    window.addEventListener("DOMContentLoaded", function onLoad() {
      highlight();

      var regExpField = document.getElementById("regExp");
      regExpField.addEventListener("keyup", function onRegExpFieldKeyDown(evt) {
        highlight();
      });
    });
    </script>
  </head>
  <body>
    <textarea id="regExp" cols="100" rows="1">a(b|c)</textarea>
    <div id="regExpHighlighter"></div>
  </body>
</html>